<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>XML Cleaner Tool</title>

    <style>
        body {
            font-family: monospace;
            margin: 0;
            padding: 20px;
            background: #f7f7f7;
        }

        h1 {
            font-size: 18px;
            margin-bottom: 12px;
        }

        /* Layout */
        .container {
            display: flex;
            gap: 20px;
            margin-bottom: 10px;
        }

        .column {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Textarea */
        textarea {
            width: 100%;
            height: 80vh;
            padding: 10px;
            font-size: 13px;
            line-height: 1.4;
            resize: none;
        }

        /* Buttons */
        .action-button {
            width: 120px;
            padding: 6px 14px;
            font-size: 13px;
            cursor: pointer;
        }

        .column-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 4px;
        }
    </style>
</head>

<body>

<h1>XML Cleaner – Android Layout</h1>

<div class="container">

    <div class="column">
        <button class="action-button" onclick="cleanXml()">Clean</button>
        <strong>Input (raw)</strong>
        <textarea id="input"></textarea>
    </div>

    <div class="column">
        <button class="action-button" onclick="copyOutput()">Copy</button>
        <strong>Output (cleaned)</strong>
        <textarea id="output" readonly></textarea>
    </div>

</div>

<script>
function cleanXml() {
    let text = document.getElementById("input").value;

    // 1. Đổi "" -> "
    text = text.replace(/""/g, '"');

    // 2. Xoá dòng chứa "[remove_start]
    text = text.replace(/^.*"[remove_start].*$\n?/gm, '');

     // 3. Xoá dòng chứa [remove_start] lần nữa nếu còn sót lại
    text = text.replace(/^.*[remove_start].*$\n?/gm, '');

    // 3. Xoá [remove_end]"
    text = text.replace(/[remove_end]/g, '');

    document.getElementById("output").value = text.trim();
}

function copyOutput() {
    const output = document.getElementById("output");
    output.select();
    output.setSelectionRange(0, 999999); // mobile support
    document.execCommand("copy");
    alert("Đã copy vào clipboard ✔");
}
</script>

</body>

</html>
